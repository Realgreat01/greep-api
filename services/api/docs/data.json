{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "AuthUserEntity": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "name": {
                    "type": "object",
                    "properties": {
                        "first": {
                            "type": "string"
                        },
                        "middle": {
                            "type": "string"
                        },
                        "last": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "first",
                        "middle",
                        "last"
                    ],
                    "additionalProperties": false
                },
                "photo": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/MediaOutput"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "coverPhoto": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/MediaOutput"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "isVerified": {
                    "type": "boolean"
                },
                "authTypes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/AuthTypes"
                    }
                },
                "roles": {
                    "$ref": "#/definitions/AuthRoles"
                },
                "referrer": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "lastSignedInAt": {
                    "type": "number"
                },
                "signedUpAt": {
                    "type": "number"
                }
            },
            "required": [
                "authTypes",
                "coverPhoto",
                "description",
                "email",
                "hash",
                "id",
                "isVerified",
                "lastSignedInAt",
                "name",
                "password",
                "photo",
                "referrer",
                "roles",
                "signedUpAt"
            ],
            "additionalProperties": false
        },
        "BaseEntity": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "string"
                }
            },
            "required": [
                "hash"
            ],
            "additionalProperties": false
        },
        "MediaOutput": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "size": {
                    "type": "number"
                },
                "path": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "number"
                },
                "link": {
                    "type": [
                        "string",
                        "null"
                    ]
                }
            },
            "required": [
                "name",
                "type",
                "size",
                "path",
                "timestamp",
                "link"
            ],
            "additionalProperties": false
        },
        "AuthTypes": {
            "type": "string",
            "enum": [
                "google",
                "email",
                "facebook",
                "twitter",
                "github",
                "microsoft"
            ]
        },
        "AuthRoles": {
            "type": "object",
            "properties": {
                "isAdmin": {
                    "type": "boolean"
                },
                "isSuperAdmin": {
                    "type": "boolean"
                }
            },
            "additionalProperties": false
        },
        "ErrorEntity": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "error": {
                    "type": "string"
                },
                "subject": {
                    "type": "string"
                },
                "to": {
                    "type": "string"
                },
                "content": {
                    "type": "string"
                },
                "from": {
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "attachments": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "additionalProperties": false
                },
                "createdAt": {
                    "type": "number"
                },
                "updatedAt": {
                    "type": "number"
                }
            },
            "required": [
                "content",
                "createdAt",
                "data",
                "error",
                "from",
                "hash",
                "id",
                "subject",
                "to",
                "updatedAt"
            ],
            "additionalProperties": false
        },
        "CustomerEntity": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "driverId": {
                    "type": "string"
                },
                "trips": {
                    "type": "number"
                },
                "debt": {
                    "type": "number"
                }
            },
            "required": [
                "debt",
                "driverId",
                "hash",
                "id",
                "name",
                "trips"
            ],
            "additionalProperties": false
        },
        "ReferralEntity": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "referred": {
                    "type": "string"
                },
                "userId": {
                    "type": "string"
                },
                "createdAt": {
                    "type": "number"
                },
                "updatedAt": {
                    "type": "number"
                }
            },
            "required": [
                "createdAt",
                "hash",
                "id",
                "referred",
                "updatedAt",
                "userId"
            ],
            "additionalProperties": false
        },
        "TransactionEntity": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "driverId": {
                    "type": "string"
                },
                "managerId": {
                    "type": "string"
                },
                "amount": {
                    "type": "number"
                },
                "description": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/TransactionData"
                },
                "recordedAt": {
                    "type": "number"
                },
                "createdAt": {
                    "type": "number"
                },
                "updatedAt": {
                    "type": "number"
                }
            },
            "required": [
                "amount",
                "createdAt",
                "data",
                "description",
                "driverId",
                "hash",
                "id",
                "managerId",
                "recordedAt",
                "updatedAt"
            ],
            "additionalProperties": false
        },
        "TransactionData": {
            "anyOf": [
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "const": "expense"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "name"
                    ],
                    "additionalProperties": false
                },
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "const": "trip"
                        },
                        "customerName": {
                            "type": "string"
                        },
                        "paymentType": {
                            "$ref": "#/definitions/PaymentType"
                        },
                        "paidAmount": {
                            "type": "number"
                        },
                        "debt": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "type",
                        "customerName",
                        "paymentType",
                        "paidAmount",
                        "debt"
                    ],
                    "additionalProperties": false
                },
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "const": "balance"
                        },
                        "parentId": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "parentId"
                    ],
                    "additionalProperties": false
                }
            ]
        },
        "PaymentType": {
            "type": "string",
            "enum": [
                "card",
                "cash"
            ]
        },
        "UserEntity": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "bio": {
                    "$ref": "#/definitions/UserBio"
                },
                "roles": {
                    "$ref": "#/definitions/UserRoles"
                },
                "dates": {
                    "$ref": "#/definitions/UserDates"
                },
                "status": {
                    "$ref": "#/definitions/UserStatus"
                },
                "drivers": {
                    "$ref": "#/definitions/UserDrivers"
                },
                "manager": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/UserManager"
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            },
            "required": [
                "bio",
                "dates",
                "drivers",
                "hash",
                "id",
                "manager",
                "roles",
                "status"
            ],
            "additionalProperties": false
        },
        "UserBio": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "object",
                    "properties": {
                        "first": {
                            "type": "string"
                        },
                        "middle": {
                            "type": "string"
                        },
                        "last": {
                            "type": "string"
                        },
                        "full": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "first",
                        "middle",
                        "last",
                        "full"
                    ],
                    "additionalProperties": false
                },
                "description": {
                    "type": "string"
                },
                "photo": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/MediaOutput"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "coverPhoto": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/MediaOutput"
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            },
            "required": [
                "email",
                "name",
                "description",
                "photo",
                "coverPhoto"
            ],
            "additionalProperties": false
        },
        "UserRoles": {
            "$ref": "#/definitions/AuthRoles"
        },
        "UserDates": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "number"
                },
                "deletedAt": {
                    "type": [
                        "number",
                        "null"
                    ]
                }
            },
            "required": [
                "createdAt",
                "deletedAt"
            ],
            "additionalProperties": false
        },
        "UserStatus": {
            "type": "object",
            "properties": {
                "connections": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "lastUpdatedAt": {
                    "type": "number"
                }
            },
            "required": [
                "connections",
                "lastUpdatedAt"
            ],
            "additionalProperties": false
        },
        "UserDrivers": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "driverId": {
                        "type": "string"
                    },
                    "commission": {
                        "type": "number"
                    }
                },
                "required": [
                    "driverId",
                    "commission"
                ],
                "additionalProperties": false
            }
        },
        "UserManager": {
            "type": "object",
            "properties": {
                "managerId": {
                    "type": "string"
                },
                "commission": {
                    "type": "number"
                }
            },
            "required": [
                "managerId",
                "commission"
            ],
            "additionalProperties": false
        }
    }
}